https://docs.google.com/forms/d/1pCsVK9hpjlhg5yiK0yOGqOcOevMY6Vt0HA2D6eUA2uQ/viewform?ts=59f1cf46&edit_requested=true


Email address *

pavel.grivenko@gmail.com
________________________________________________________________________________________
В чем основное отличие между InnoDB и MyISAM? *
Your answer

Основным различием между MyISAM и InnoDB является ссылочная целостность и транзакции, блокировка таблицы/строки во время исполнения квери, ролбэки . 

Полное и развернутое описание с объяснением каждого пункта я нашел по ссылке:  http://blog.danyll.com/myisam-vs-innodb/
_____________________________________________________________________________
Как создать шаблон VM в KVM из запущенного инстанса? *

Using virt-clone: 

sudo virsh shutdown original-box1
sudo virt-clone --original-box1 --auto-clone
sudo virsh start original-box1
sudo virsh start original-box1-clone

virt-clone --original machine1 --name machine1-clone --file /var/lib/libvirt/images/machine1-clone.qcow2
Your answer
http://onreader.mdl.ru/MasteringProxmox.2ed/content/Ch05.html
_____________________________________________________________________________
Что такое "kernel panic"? *
Your answer

Сообщение о критической ошибке ядра операционной системы, после которой операционная система не может продолжать дальнейшую работу. Получило название в результате характерной ошибки выводимой на экран "Kernel panic:" и функции ядра panic() из оригинальной ОС UNIX. Характерно для Unix подобных операционных систем. Частично сравним с  BSOD для Windows. 

https://en.wikipedia.org/wiki/Kernel_panic
_____________________________________________________________________________
Сможете описать отличия модели OSI от стека TCP/IP? *
Your answer
Модель OSI — это 7-уровневая логическая модель работы сети. Модель OSI реализуется группой протоколов и правил связи, организованных в несколько уровней.

стек протоколов TCP/IP — содержит 4 уровня. ( в некоторой литературе упоминается 5 уровней)  является непосредственным набором правил, решающих задачу по передаче данных, составляют стек протоколов передачи данных, на которых базируется Интернет.

_____________________________________________________________________________
Как сбросить пароль root в MySQL? FreeBSD? Linux? *
Your answer

FreeBSD: 
/usr/local/etc/rc.d/mysql-server stop
mysqld_safe --skip-grant-tables &
mysql -u root
use mysql;
update user
set password=PASSWORD('NEWPASSWORD')
where user='root';
flush privileges;
/usr/local/etc/rc.d/mysql-server start

CentOS7:

sudo systemctl stop mariadb.service
sudo mysqld_safe --skip-grant-tables
mysql -u root
use mysql;
update user set password=PASSWORD("NEWPASSWORD") where User='root';
flush privileges;
sudo systemctl start mariadb.service




https://forums.freebsd.org/threads/26738/
https://www.unix-ninja.com/p/Resetting_the_MySQL_root_password_in_FreeBSD
https://ua.godaddy.com/help/reset-your-root-mysql-password-linux-17548
_____________________________________________________________________________
Какие способы авторизации реализованы в OpenVPN? зачем нужен ключ Диффи-Хелмана? *
Your answer

Предустановленный ключ — самый простой метод.
Сертификатная аутентификация — наиболее гибкий в настройках метод.
С помощью логина и пароля — может использоваться без создания клиентского сертификата (серверный сертификат всё равно нужен).

Протокол Диффи-Хелмана используется для получения двумя и более сторонами общего секретного ключа, используя незащищенный от прослушивания канал связи. Полученный ключ используется для шифрования дальнейшего обмена с помощью алгоритмов симметричного шифрования. 

https://habrahabr.ru/post/151599/
https://pikabu.ru/story/algoritm_diffikhellmana_4404219
http://lithium.opennet.ru/articles/openvpn/openvpn-howto.html
_____________________________________________________________________________
Как бы вы охарактеризовали механизм round-robin? *
Your answer
Один из методов балансировки нагрузки или отказоустойчивости за счет использования избыточного количества серверов и/или сервисов.  Не является лучшим решением для распределения нагрузки так как не мониторит сервисы из списка отдаваемых адресов а просто меняет их последовательность при каждом новом запросе. 

Пример: 
pgrivenko@cerberus:~$ host microsoft.com 
microsoft.com has address 104.43.195.251
microsoft.com has address 191.239.213.197
microsoft.com has address 104.40.211.35
microsoft.com has address 23.100.122.175
microsoft.com has address 23.96.52.53


pgrivenko@cerberus:~$ host microsoft.com 
microsoft.com has address 23.96.52.53
microsoft.com has address 23.100.122.175
microsoft.com has address 104.40.211.35
microsoft.com has address 191.239.213.197
microsoft.com has address 104.43.195.251



_____________________________________________________________________________
Можно ли копировать базы mysql из /var/lib/mysql при запущенном демоне? почему? *
Your answer

Копирование возможно, но крайне не рекомендуется. 
Рекомендуется остановить mysqld так как в данный момент могут быть активные квери которые используют копируемую базу (вносят изменения) что приведет к потере данных. 
Возможен вариант с копированием при рабочем демоне через блокировку доступа к таблицам. 

Пример: 
mysql -u root -p -h localhost
USE db_name;
LOCK TABLES * READ;
FLUSH TABLES;
SELECT * INTO OUTFILE 'file_name' FROM *;
UNLOCK TABLES;

Рекомендуется использование mysqldump для копирования.
_____________________________________________________________________________
Какой формат, по вашему мнению, лучше с точки зрения производительности: IMG или VMDK? *
IMG
VMDK * 

_____________________________________________________________________________
Как создать GRE тоннель? знакомы ли с OSPF? чем он лучше RIP? *
GRE tunnel on freeBSD: 

host1:
# ifconfig gre0 create
# ifconfig gre0 192.168.10.1 192.168.10.2 netmask 255.255.255.0 
# ifconfig gre0 tunnel 10.0.2.1 10.0.1.1

host2: 
# ifconfig gre0 create
# ifconfig gre0 192.168.10.2 192.168.10.1 netmask 255.255.255.0
# ifconfig gre0 tunnel 10.0.1.1 10.0.2.1

OSPF - протокол динамической маршрутизации использующий технологии отслеживания состояния канала. Использует link state routing (LSR) протокол и 
Лет 6 тому во время обучения настраивал на Cisco packet tracer в рамках лабораторной работы при прохождении курса подготовки к ccna. Реального опыта работы с OSPF в продакшене не имею. 
RIP - протокол довольно старый и использовался в силу своей простоты. Использует количество хопов в качестве метрики, ограничен 15 хопами. Редко используется из-за низкой производительности и малой масштабируемости. 

OSPF не использует транспортный протокол который инкапсулирует свои данные непосредственно в IP-пакеты. OSPF реализует собственные функции обнаружения и исправления ошибок транспортного уровня. 
_____________________________________________________________________________
Что такое DNS? зачем он нужен? *
Your answer

Domain Name System - (система доменных имён) — распределённая система для получения информации о доменах. Система адресации позволяет получать айпи адрес исплользуя удобное доменное имя. (A - ipv4, AAAA - ipv6)  Так-же может содержать информацию для доставки почты (MX) 
_____________________________________________________________________________
Зачем придумали IPv6? какова длина пакета IPv6? *
Your answer

Из-за ораниченного количества адресов которые возможно использовать. IPv4 использует 32х битную адресацию что ограничивает количество возможных адресов до  4 294 967 296 в свою очередь IPv6 имеет длинну 128 бит и потенцтально возможное количество адресов 340 триллионов. 
Длинна стандартного хэдера  - 320 bits. 

_____________________________________________________________________________

Как определить допустимое количество процессов nginx? *
Your answer
Оптимальное = количество ядер доступное серверу. 

grep processor /proc/cpuinfo | wc -l #кол-во процессоров доступное машине. 
grep worker_processes /etc/nginx/conf.d/default.conf #получить текущее значение. Добавить при необходимости. 
worker_processes  1;
_____________________________________________________________________________
Что такое операционная система? *
Your answer

ОС -  комплекс взаимосвязанных программ, предназначенных для управления ресурсами компьютера и организации взаимодействия с пользователем. 

Если своими словами - оболочка для управления железом и софтом с набором необходимого функционала для взаимодействия и управления. 
_____________________________________________________________________________
Как заблокировать IP в iptables? что такое NAT? *
Your answer

В зависимости от желаемого результата
#Игнорирует все запросы от <source_ip> в результате <source_ip> будет получать connection timeout.
iptables -I INPUT -s <source_ip> -j DROP 
#Сервер будет отвечать <source_ip> что соединение сброшено как только запрос доберется до фаервола. 
iptables -I INPUT -s <source_ip> -j REJECT


Network Address Translation - механизм  позволяющий преобразововать IP адрес пакета как источника так и получателя, и обратно. 
_____________________________________________________________________________
На каком уровне работает маршрутизатор? *
Your answer
1-й
2-й
3-й * 
4-й
_____________________________________________________________________________
на сервере cPanel обнаружена спам атака, которую необходимо пресечь. опишите ваши действия. *


Проверить очередь:
exim -bpr | grep "<" | awk {'print $4'} | cut -d "<" -f 2 | cut -d ">" -f 1 | sort -n | uniq -c | sort -n

    29  admin@testdomain.in
  124  arun@test123domain.com

Местоположение скриптов которые шлют на exim: 
grep cwd /var/log/exim_mainlog | grep -v /var/spool | awk -F"cwd=" '{print $2}' | awk '{print $1}' | sort | uniq -c | sort -n

Пример:
11 /home/user/public_html/about-us
27 /home/user/public_html
7681 /home/user/public_html/data

ls -lah /home/user/public_html/data
drwxr-xr-x 17 user user 4.0K Jan 20 10:25 ../
-rw-r--r-- 1 user user 5.6K Feb 20 11:27 mailer.php
drwxr-xr-x 2 user user 4.0K Jan 20 11:27 ./

mailer.php уязвимый файл.

Вытянуть количествово конектов из логов:
grep "mailer.php" /home/user/access-logs/dom.com | awk '{print $1}' | sort -n | uniq -c | sort -n

25 123.123.123.126
27 123.123.123.125
29 123.123.123.124
7681 123.123.123.123

7681 123.123.123.123 IP адрес должен быть заблокирован как источник отправки спама. Так-же рекомендовать установку капчи на скрипты для отправки почты чтобы избежать таких проблем в будущем. 
_____________________________________________________________________________
за что отвечает компонент cPanel - cphulkd? как его можно включить/выключить используя commandline? *

cphulkd - защита от брутфорса
/scripts/restartsrv_cphulkd --status #проверить статус
/scripts/restartsrv_cphulkd # перезагрузить
_____________________________________________________________________________
как узнать, используя командную строку, какому из пользователей cPanel принадлежит домен somedomain.org? 

/scripts/whoowns somedomain.org
или 
grep somedomain.org /etc/userdomains

grep $username /etc/trueuserowners
_____________________________________________________________________________
как проверить, действительна ли лицензия WHM/cPanel? как обновить лицензию? *

Получить свой внешний адрес: 
curl -L http://cpanel.net/showip.cgi 

echo ip="123.123.123.123"|lynx -dump http://verify.cpanel.net/index.cgi -post_data

Запуск обновленя 
/usr/local/cpanel/cpkeyclt
_____________________________________________________________________________
как добавить/убрать модуль PHP в cPanel из командной строки? *

yum install ea-php56-php-mbstring
yum uninstall ea-php56-php-mbstring
ea-php56-php-mbstring - в качестве примера. ea- префикс easy apache, php56 - префикс версии php, mbstring название самого модуля. 
_____________________________________________________________________________
какие аналоги WHM/cPanel вы знаете? *


Parallels Plesk Panel
DirectAdmin
ISPmanager Lite
_____________________________________________________________________________
работали ли вы с проектами high-load? если да, то какого типа балансировщики использовали? какие пиковые нагрузки испытывал проект? в чем заключалась ваша роль в проекте?
_____________________________________________________________________________
зачем нужен Puppet? Chef?
_____________________________________________________________________________
что вам известно о DPI?
_____________________________________________________________________________
имели ли дело с Docker? Ansible? расскажите подробней об опыте работы с ними.
_____________________________________________________________________________
имели ли дело с BGP? как реализован протокол VRRP в Linux? FreeBSD? в чем отличие iBGP и eBGP? приведите схему null-route с помощью blackholing.
